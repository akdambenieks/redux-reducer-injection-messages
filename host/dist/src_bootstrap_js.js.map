{"version":3,"sources":["webpack://@redux-reducer-injection/host/./src/bootstrap.js","webpack://@redux-reducer-injection/host/./src/components/Header/index.jsx","webpack://@redux-reducer-injection/host/./src/components/Header/styled.jsx","webpack://@redux-reducer-injection/host/./src/components/LanguageSelector/constants.js","webpack://@redux-reducer-injection/host/./src/components/LanguageSelector/index.jsx","webpack://@redux-reducer-injection/host/./src/components/LanguageSelector/styled.jsx","webpack://@redux-reducer-injection/host/./src/components/Navigation/index.jsx","webpack://@redux-reducer-injection/host/./src/components/Navigation/styled.jsx","webpack://@redux-reducer-injection/host/./src/pages/index.js","webpack://@redux-reducer-injection/host/./src/pages/route-builder.js","webpack://@redux-reducer-injection/host/./src/pages/route-config.js","webpack://@redux-reducer-injection/host/./src/store.js"],"names":["history","createBrowserHistory","App","store","ReactDOM","document","getElementById","Header","styled","LANGUAGE_OPTIONS","getLanguage","selectors","selectLanguage","actions","LanguageSelector","dispatch","useDispatch","language","useSelector","state","option","e","currentTarget","id","StyledButton","SelectorContainer","Navigation","StyledLink","NavLink","NavigationContainer","Routes","mfeReducerArray","scope","mfe1Scope","reducer","mfe1reducer","mfe2Scope","mfe2reducer","mfe3Scope","mfe3reducer","injectReducers","elements","config","route","path","Host","lazy","MFE1","MFE2","MFE3","component","exact","SELECT_GLOBAL_LANGUAGE","UPDATE_GLOBAL_COUNT","hostScope","initialState","globalLanguage","hostReducer","action","type","payload","staticReducers","configureStore","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","enhancer","createStore","createReducer","asyncReducers","reducers","forEach","console","log","replaceReducer","combineReducers","updateGlobalCount","byValue"],"mappings":"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","file":"src_bootstrap_js.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport Header from './components/Header';\nimport { Routes } from './pages';\n\nimport { store } from './store';\n\nconst history = createBrowserHistory();\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <Router history={history}>\n        <Header />\n        <Routes store={store}/>\n      </Router>\n    </Provider>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React from 'react';\nimport Navigation from '../Navigation';\nimport LanguageSelector from '../LanguageSelector';\nimport HeaderContainer from './styled';\n\nconst Header = () => {\n  return (\n    <HeaderContainer>\n      <Navigation />\n      <LanguageSelector />\n    </HeaderContainer>\n  )\n}\n\nexport default Header;","import styled from 'styled-components';\n\nexport default styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 3px solid gainsboro;\n`","export const LANGUAGE_OPTIONS = ['en', 'fr'];","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectors, actions } from '../../store'\nimport { StyledButton, SelectorContainer } from './styled';\nimport { LANGUAGE_OPTIONS } from './constants';\n\nconst { getLanguage } = selectors;\nconst { selectLanguage } = actions;\n\nconst LanguageSelector = () => {\n  const dispatch = useDispatch();\n  const language = useSelector(state => getLanguage(state));\n\n  return (\n    <SelectorContainer>\n      {LANGUAGE_OPTIONS.map((option) => (\n        <StyledButton\n          onClick={e => dispatch(selectLanguage(e.currentTarget.id))}\n          id={option}\n          key={option}\n          className={language === option ? 'selected' : ''}\n          disabled={language === option}\n        >\n          {option}\n        </StyledButton>\n      ))}\n    </SelectorContainer>\n  )\n}\n\nexport default LanguageSelector;","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n  font-size: 24px;\n  margin-left: 16px;\n  padding: 4px 8px;\n  background-color: white;\n  text-decoration: none;\n  font-weight: 500;\n  color: blue;\n  border: none;\n  border-radius: 8px;\n  font-family: Arial, Helvetica, sans-serif !important;\n  &.selected {\n    background-color: blue;\n    color: white;\n    border: solid 2px blue;\n  };\n`\n\nexport const SelectorContainer = styled.div`\n  display: flex;\n`","import React from 'react';\nimport { NavigationContainer, StyledLink } from './styled';\n\nconst Navigation = () => {\n  return (\n    <NavigationContainer>\n      <StyledLink to=\"/\" exact>Host</StyledLink>\n      <StyledLink to=\"/mfe1\" exact>MFE1</StyledLink>\n      <StyledLink to=\"/mfe2\" exact>MFE2</StyledLink>\n      <StyledLink to=\"/mfe3\" exact>MFE3</StyledLink>\n    </NavigationContainer>\n  )\n}\n\nexport default Navigation;","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const StyledLink = styled(NavLink)`\n  margin-right: 16px;\n  padding: 8px 16px;\n  background-color: white;\n  text-decoration: none;\n  font-size: 32px;\n  font-weight: 500;\n  color: blue;\n  font-family: Arial, Helvetica, sans-serif !important;\n  &.active {\n    background-color: blue;\n    color: white;\n  };\n`\n\nexport const NavigationContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  padding: 16px 16px 0px 16px;\n`","// eslint-disable-next-line import/prefer-default-export\nexport { default as Routes } from './route-builder';\n","/* eslint-disable react/jsx-props-no-spreading */\n\nimport React, { Suspense } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport config from './route-config';\n// Note: no lazy loading of reducers since they need to be present from the outset\nimport mfe1reducer, {scope as mfe1Scope } from 'mfe1/reducer';\nimport mfe2reducer, {scope as mfe2Scope } from 'mfe2/reducer';\nimport mfe3reducer, {scope as mfe3Scope } from 'mfe3/reducer';\n\nconst Routes = ({ store }) => {\n  const mfeReducerArray = [\n    { scope: mfe1Scope, reducer: mfe1reducer },\n    { scope: mfe2Scope, reducer: mfe2reducer },\n    { scope: mfe3Scope, reducer: mfe3reducer },\n  ];\n  store.injectReducers(mfeReducerArray);\n  const elements = config.map((route) => <Route key={route.path} {...route} />);\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <Switch>{elements}</Switch>\n    </Suspense>\n  );\n};\n\nexport default Routes;\n","import { lazy } from 'react';\n\nconst Host = lazy(() => import('./Host'));\nconst MFE1 = lazy(() => import('mfe1/MFE1'));\nconst MFE2 = lazy(() => import('mfe2/MFE2'));\nconst MFE3 = lazy(() => import('mfe3/MFE3'));\n\nexport default [\n  {\n    path: '/mfe1',\n    component: MFE1,\n    exact: false,\n  },\n  {\n    path: '/mfe2',\n    component: MFE2,\n    exact: false,\n  },\n  {\n    path: '/mfe3',\n    component: MFE3,\n    exact: false,\n  },\n  {\n    path: '/',\n    component: Host,\n    exact: true,\n  },\n];\n","import { combineReducers, createStore, compose } from 'redux';\n\n// global actions are namespaced with the 'GLOBAL/' prefix to expose them to other MFE's\nexport const SELECT_GLOBAL_LANGUAGE = 'GLOBAL/SELECT_LANGUAGE';\nconst UPDATE_GLOBAL_COUNT = 'GLOBAL/UPDATE_COUNT';\n\nconst hostScope = 'global';\n\nconst initialState = {\n  globalLanguage: 'en',\n};\n\nconst hostReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SELECT_GLOBAL_LANGUAGE: {\n      return {\n        ...state,\n        globalLanguage: action.payload,\n      };\n    }\n    default: {\n      return state\n    }\n  }\n};\n\nconst staticReducers = {\n  [hostScope]: hostReducer,\n};\n\nexport default function configureStore() {\n  const composeEnhancers =\n    typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n      : compose;\n\n  const enhancer = composeEnhancers();\n  const store = createStore(createReducer(), enhancer);\n\n  store.asyncReducers = {};\n\n  // Code for extending the store to allow injection of reducers from MFEs\n  store.injectReducers = (reducers) => {\n    reducers.forEach(({scope, reducer}) => {\n      console.log('injecting reducer ', scope, ' into the store');\n      store.asyncReducers[scope] = reducer;\n    });\n    store.replaceReducer(createReducer(store.asyncReducers));\n  };\n\n  return store;\n}\n\nfunction createReducer(asyncReducers) {\n  return combineReducers({\n    ...staticReducers,\n    ...asyncReducers,\n  });\n}\n\nexport const store = configureStore();\n\nexport const actions = {\n  selectLanguage: (language) => ({\n    type: SELECT_GLOBAL_LANGUAGE,\n    payload: language\n  }),\n  updateGlobalCount: (byValue) => ({\n    type: UPDATE_GLOBAL_COUNT,\n    payload: byValue\n  })\n}\n\nexport const selectors = {\n  getLanguage: (state) => state[hostScope].globalLanguage,\n}\n"],"sourceRoot":""}