{"version":3,"sources":["webpack://@redux-reducer-injection/mfe2/./src/DispatchControls.js","webpack://@redux-reducer-injection/mfe2/./src/MFE2.js","webpack://@redux-reducer-injection/mfe2/./src/bootstrap.js","webpack://@redux-reducer-injection/mfe2/./src/constants.js","webpack://@redux-reducer-injection/mfe2/./src/mfe2slice.js","webpack://@redux-reducer-injection/mfe2/./src/store.js","webpack://@redux-reducer-injection/mfe2/./src/styled.jsx"],"names":["updateGlobalCount","selectGlobalLanguage","actions","DispatchControls","dispatch","useDispatch","marginTop","border","padding","margin","getActionLog","getGlobalLanguage","selectors","printActionLog","actionLog","map","action","index","MFE2","globalLanguage","useSelector","GREETING","App","store","ReactDOM","document","getElementById","en","fr","scope","initialState","actionLogForCount","globalActions","createAction","mfe2Slice","createSlice","name","reducers","extraReducers","builder","addCase","state","payload","push","addDefaultCase","reducer","createStore","combineReducers","mfe2","styled"],"mappings":"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","file":"src_bootstrap_js.js","sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { actions } from './mfe2slice.js';\n\nconst { updateGlobalCount, selectGlobalLanguage } = actions;\n\nconst DispatchControls = () => {\n  const dispatch = useDispatch()\n  return (\n    <div style={{ marginTop: '10px', border: 'solid 1px gainsboro', padding: '10px' }}>\n      <p><b>Global Actions Dispatchers</b></p>\n      <button style={{ margin: '5px'}} onClick={() => dispatch(updateGlobalCount(1))}>Increment Global Counter</button>\n      <button style={{ margin: '5px'}} onClick={() => dispatch(updateGlobalCount(-1))}>Decrement Global Counter</button>\n      <button style={{ margin: '5px'}} onClick={() => dispatch(selectGlobalLanguage('en'))}>Select 'en' as Global Language</button>\n      <button style={{ margin: '5px'}} onClick={() => dispatch(selectGlobalLanguage('fr'))}>Select 'fr' as Global Language</button>\n    </div>\n  );\n};\n\nexport default DispatchControls;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectors } from './mfe2slice';\nimport StyledTitle from './styled.jsx';\nimport GREETING from './constants.js';\n\nconst { getActionLog, getGlobalLanguage } = selectors;\n\nconst printActionLog = (actionLog) => {\n  return actionLog.map((action, index) => {\n    return (<div key={`${index}-action`}><b>{index+1}: {action}</b></div>)\n    }) \n }\n\nconst MFE2 = () => {\n  const globalLanguage = useSelector(getGlobalLanguage);\n  const actionLog = useSelector(getActionLog);\n  return (\n    <div style={{ marginTop: '10px' }}>\n      <StyledTitle>{GREETING[globalLanguage]}</StyledTitle>\n      <h1>Counter Action Log:</h1>\n      {\n        printActionLog(actionLog)\n      }\n      <h3>MFE1 architecture:</h3>\n      <ul>\n        <li>Exposes two endpoints (via webpack 5 module federation): <code>reducer</code> and <code>MFE2</code>.  These are imported by the host app.</li>\n        <li>The <code>reducer</code> endpoint provides access to the MFE reducer (via default export) as well a the scope name to be used in the store (via the <code>scope</code> constant)</li>\n        <li>The <code>MFE2</code> endpoint provides access to the MFE react component itself.  <b>NOTE:</b> the exported react component <b>MUST NOT</b> be wrapped in a redux <code>Provider</code> as this would result in a nested store when it is imported into the host which can lead to errors in reading or updating the store</li>\n        <li>Stores <code>globalLanguage</code> and <code>actionLogForCount</code> (as an array of strings) in it's local store (scoped to <code>mfe2</code>) for updating display of the greeting and counter action log respectively</li>\n        <li>MFE2 reducer is subscribed to actions of type <code>GLOBAL/SELECT_LANGUAGE</code> and <code>GLOBAL/UPDATE_COUNT</code> to update the mfe2 scoped store</li>\n        <li><b>Note:</b> this component does not dispatch any actions whatsoever, updates to its store are entirely dependent on global actions</li>\n        <li><b>Note:</b> to properly display this MFE as a stand alone app it must be provided with its own store.  In this case the root url for the app (<a href=\"http://localhost:3003\" target=\"_blank\">http://localhost:3003</a>) loads MFE1 wrapped in a redux <code>Provider</code> (found in <code>src/bootstrap.js</code>)</li>\n      </ul>\n    </div>\n  );\n};\n\nexport default MFE2;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport store from './store';\nimport MFE2 from './MFE2';\nimport DispatchControls from './DispatchControls';\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <DispatchControls />\n      <MFE2 />\n    </Provider>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","export default {\n  en: 'Welcome to MFE2!',\n  fr: 'Bienvenue a MFE2!'\n}","import { createSlice, createAction } from '@reduxjs/toolkit'\n\nexport const scope = 'mfe2';\n\nconst initialState = {\n  actionLogForCount: [],\n  globalLanguage: 'en',\n};\n\n//globally scoped actions must be created individually using createAction\nconst globalActions = {\n  updateGlobalCount: createAction('GLOBAL/UPDATE_COUNT'),\n  selectGlobalLanguage: createAction('GLOBAL/SELECT_LANGUAGE'),\n}\n\nexport const mfe2Slice = createSlice({\n  name: scope,\n  initialState,\n  reducers: {},\n  // global reducers are passed using a builder function via the extraReducers key\n  extraReducers: (builder) => {\n    builder\n      .addCase(globalActions.updateGlobalCount, (state, action) => {\n        if (action.payload >= 1) {\n          state.actionLogForCount.push('Increment occured');\n        }\n        else {\n          state.actionLogForCount.push(\"Decrement occured\");\n        }\n      })\n      .addCase(globalActions.selectGlobalLanguage, (state, action) => {\n        state.globalLanguage = action.payload;\n      })\n      .addDefaultCase((state) => {\n        state;\n      })\n  }\n});\n\nexport const selectors = {\n  getGlobalLanguage: (state) => state[scope].globalLanguage,\n  getActionLog: (state) => state[scope].actionLogForCount,\n}\n\n// global actions are not necessarily dispatched from the MFE, the MFE may simply subscribe to them\n// The actions are included here so they can be accessed for the component locally via the bootstrap vesrions for local development.\nexport const actions = { ...mfe2Slice.actions, ...globalActions };\n\nexport default mfe2Slice.reducer;","import { createStore, combineReducers } from 'redux';\nimport mfe2 from './mfe2slice';\n\nexport default createStore(combineReducers({\n  mfe2\n}));\n","import styled from 'styled-components';\n\nexport default styled.h1`\n  font-size: 48px;\n  font-weight: 100;\n  font-family: Arial, Helvetica, sans-serif !important;\n`"],"sourceRoot":""}