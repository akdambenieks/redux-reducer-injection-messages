{"version":3,"sources":["webpack://@redux-reducer-injection/mfe2/./src/MFE2.js","webpack://@redux-reducer-injection/mfe2/./src/constants.js","webpack://@redux-reducer-injection/mfe2/./src/reducer.js","webpack://@redux-reducer-injection/mfe2/./src/styled.jsx"],"names":["getGlobalLanguage","getCount","getGlobalCount","selectors","updateCount","updateGlobalCount","actions","MFE2","dispatch","useDispatch","language","useSelector","count","globalCount","countUpdateValue","setCountUpdateValue","useState","onIncrement","parseInt","onDecrement","onGlobalIncrement","onGlobalDecrement","changeCountUpdateValue","value","marginTop","GREETING","e","currentTarget","MFE2Wrapper","useEffect","console","log","store","en","fr","UPDATE_COUNT","UPDATE_GLOBAL_COUNT","PROCESS_MESSAGE_QUEUE","initialState","globalDefault","mfeScope","hostScope","byValue","type","payload","reducer","state","action","StyledTitle","styled","CountUpdateValueContainer","StyledLabel","StyledInput"],"mappings":"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","file":"src_MFE2_js.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Provider, useSelector, useDispatch } from 'react-redux';\nimport /*reducer, */{ actions, selectors/*, mfeScope */} from './reducer';\nimport { StyledTitle, CountUpdateValueContainer, StyledInput, StyledLabel } from './styled.jsx';\nimport GREETING from './constants.js';\nimport Counter from 'host/Counter';\n\nconst { getGlobalLanguage, getCount, getGlobalCount } = selectors;\nconst { updateCount, updateGlobalCount } = actions;\n\nconst MFE2 = () => {\n  const dispatch = useDispatch();\n  const language = useSelector(getGlobalLanguage);\n  const count = useSelector(getCount);\n  const globalCount = useSelector(getGlobalCount);\n  const [countUpdateValue, setCountUpdateValue] = useState(1);\n\n  const onIncrement = () => dispatch(updateCount(parseInt(countUpdateValue)));\n  const onDecrement = () =>  dispatch(updateCount(parseInt(-countUpdateValue)));\n  const onGlobalIncrement = () => dispatch(updateGlobalCount(parseInt(countUpdateValue)));\n  const onGlobalDecrement = () =>  dispatch(updateGlobalCount(parseInt(-countUpdateValue)));\n  const changeCountUpdateValue = value => setCountUpdateValue(value);\n  \n  return (\n    <div style={{ marginTop: '10px' }}>\n      <StyledTitle>{GREETING[language]}</StyledTitle>\n      <CountUpdateValueContainer>\n        <StyledLabel htmlFor=\"count-update-value\">Update Count By:</StyledLabel>\n        <StyledInput type=\"number\" id=\"count-update-value\" onChange={e => changeCountUpdateValue(e.currentTarget.value)} value={countUpdateValue} />\n      </CountUpdateValueContainer>\n      <Counter title=\"MFE2 Counter\" count={count} onIncrement={onIncrement} onDecrement={onDecrement} themeColor=\"red\" />\n      <Counter title=\"Host Counter from MFE2\" count={globalCount} onIncrement={onGlobalIncrement} onDecrement={onGlobalDecrement} themeColor=\"blue\" />\n    </div>\n  );\n};\n\nconst MFE2Wrapper = (/*props*/) => {\n  // const { store } = props;\n  useEffect(() => {\n    console.log('Mounting MFE2');\n    // store.injectReducer(mfeScope, reducer);\n    return () => {\n      console.log('Unmounting MFE2');\n      // store.ejectReducer(mfeScope);\n    }\n  }, []);\n\n  return (\n    <Provider store={store || {}}>\n      <MFE2 />\n    </Provider>\n  );\n};\n\nexport default MFE2Wrapper;\n","export default {\n  en: 'Welcome to MFE2!',\n  fr: 'Bienvenue a MFE2!'\n}","const UPDATE_COUNT = 'MFE2/UPDATE_COUNT';\nconst UPDATE_GLOBAL_COUNT = 'GLOBAL/UPDATE_COUNT';\nconst PROCESS_MESSAGE_QUEUE = 'MFE2/PROCESS_MESSAGE_QUEUE';\n\nconst initialState = {\n  count: 0,\n  globalCount: 0\n};\n\nconst globalDefault = {\n  language: 'en',\n  count: 0\n}\n\nexport const mfeScope = 'mfe2';\nconst hostScope = 'host';\n\nexport const actions = {\n  updateCount: (byValue) => ({\n    type: UPDATE_COUNT,\n    payload: byValue\n  }),\n  updateGlobalCount: (byValue) => ({\n    type: UPDATE_GLOBAL_COUNT,\n    payload: byValue\n  })\n};\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PROCESS_MESSAGE_QUEUE:\n      console.log('message queue: ', action.payload);\n      return state\n    case UPDATE_GLOBAL_COUNT:\n      return {\n        ...state,\n        globalCount: state.count + action.payload\n      }\n    case UPDATE_COUNT: {\n      return {\n        ...state,\n        count: state.count + action.payload\n      }\n    }\n  }\n  return state;\n};\n\nexport const selectors = {\n  getGlobalLanguage: (state) => state[hostScope] ? state[hostScope].language : globalDefault.language,\n  getCount: (state) => state[mfeScope] ? state[mfeScope].count : initialState.count,\n  getGlobalCount: (state) => state[mfeScope] ? state[mfeScope].count : initialState.globalCount\n}\n\nexport default reducer;\n","import styled from 'styled-components';\n\nexport const StyledTitle = styled.h1`\n  font-size: 48px;\n  font-weight: 100;\n  font-family: Arial, Helvetica, sans-serif !important;\n`\n\nexport const CountUpdateValueContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 48px;\n  align-items: center;\n  justify-content: center;\n`\n\nexport const StyledLabel = styled.label`\n  font-size: 24px;\n  color: red;\n  font-family: Arial, Helvetica, sans-serif !important;\n  padding-bottom: 16px;\n`\n\nexport const StyledInput = styled.input`\n  padding: 4px 8px;\n  font-size: 32px;\n  border: solid 1px gainsboro;\n  border-radius: 8px;\n  font-family: Arial, Helvetica, sans-serif !important;\n  text-align: center;\n  width: 100px;\n`"],"sourceRoot":""}