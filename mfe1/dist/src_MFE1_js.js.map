{"version":3,"sources":["webpack://@redux-reducer-injection/mfe1/./src/MFE1.js","webpack://@redux-reducer-injection/mfe1/./src/constants.js","webpack://@redux-reducer-injection/mfe1/./src/reducer.js","webpack://@redux-reducer-injection/mfe1/./src/styled.jsx"],"names":["getCount","getGlobalCount","getGlobalLanguage","selectors","updateCount","updateGlobalCount","actions","MFE1","dispatch","useDispatch","language","useSelector","state","count","globalCount","onIncrement","onDecrement","onGlobalIncrement","onGlobalDecrement","marginTop","GREETING","MFE1Wrapper","props","store","useEffect","injectReducer","mfeScope","reducer","console","log","ejectReducer","en","fr","UPDATE_COUNT","UPDATE_GLOBAL_COUNT","PROCESS_MESSAGE_QUEUE","hostScope","initialState","globalDefault","action","type","payload","byValue","styled"],"mappings":"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","file":"src_MFE1_js.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { Provider, useSelector, useDispatch } from 'react-redux';\nimport reducer, {\n  mfeScope,\n  selectors,\n  actions\n} from './reducer';\nimport StyledTitle from './styled.jsx';\nimport GREETING from './constants.js';\nimport Counter from 'host/Counter';\n\nconst { getCount, getGlobalCount, getGlobalLanguage } = selectors;\nconst { updateCount, updateGlobalCount } = actions;\n\nconst MFE1 = () => {\n  const dispatch = useDispatch();\n  const language = useSelector((state) => getGlobalLanguage(state));\n  const count = useSelector((state) => getCount(state));\n  const globalCount = useSelector(getGlobalCount);\n\n  const onIncrement = () => dispatch(updateCount(1));\n  const onDecrement = () =>  dispatch(updateCount(-1));\n  const onGlobalIncrement = () => dispatch(updateGlobalCount(1));\n  const onGlobalDecrement = () =>  dispatch(updateGlobalCount(-1));\n\n  return (\n    <div style={{ marginTop: '10px' }}>\n      <StyledTitle>{GREETING[language]}</StyledTitle>\n      <Counter title=\"MFE1 Counter\" count={count} onIncrement={onIncrement} onDecrement={onDecrement} themeColor=\"green\"/>\n      <Counter title=\"Host Counter from MFE1\" count={globalCount} onIncrement={onGlobalIncrement} onDecrement={onGlobalDecrement} themeColor=\"blue\"/>\n\n    </div>\n  );\n};\n\nconst MFE1Wrapper = (props) => {\n  const { store } = props;\n  useEffect(() => {\n    store.injectReducer(mfeScope, reducer);\n    return () => {\n      console.log('Unmounting MFE1');\n      store.ejectReducer(mfeScope);\n    }\n  }, []);\n\n  return (\n    <Provider store={store || {}}>\n      <MFE1 />\n    </Provider>\n  );\n};\n\nexport default MFE1Wrapper;\n","export default {\n  en: 'Welcome to MFE1!',\n  fr: 'Bienvenue a MFE1!'\n}","const UPDATE_COUNT = 'MFE1/UPDATE_COUNT';\nconst UPDATE_GLOBAL_COUNT = 'GLOBAL/UPDATE_COUNT';\nconst PROCESS_MESSAGE_QUEUE = 'MFE1/PROCESS_MESSAGE_QUEUE';\n\nconst hostScope = 'host';\nexport const mfeScope = 'mfe1';\n\nconst initialState = {\n  count: 0,\n  globalCount: 0\n};\n\nconst globalDefault = {\n  language: 'en',\n  count: 0\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PROCESS_MESSAGE_QUEUE:\n      console.log('message queue: ', action.payload);\n      return state\n    case UPDATE_GLOBAL_COUNT:\n      return {\n        ...state,\n        globalCount: state.count + action.payload\n      }\n    case UPDATE_COUNT:\n      return {\n        ...state,\n        count: state.count + action.payload\n      }\n    default:\n      return state\n  }\n};\n\nconst actions = {\n  updateCount: (byValue) => ({\n    type: UPDATE_COUNT,\n    payload: byValue\n  }),\n  updateGlobalCount: (byValue) => ({\n    type: UPDATE_GLOBAL_COUNT,\n    payload: byValue\n  })\n}\n\nconst selectors = {\n  getGlobalLanguage: (state) => state[hostScope] ? state[hostScope].language : globalDefault.language,\n  getGlobalCount: (state) => state[mfeScope] ? state[mfeScope].count : initialState.globalCount,\n  getCount: (state) => state[mfeScope] ? state[mfeScope].count : initialState.count\n}\n\nexport { selectors, actions };\nexport default reducer;\n","import styled from 'styled-components';\n\nexport default styled.h1`\n  font-size: 48px;\n  font-weight: 100;\n  font-family: Arial, Helvetica, sans-serif !important;\n`"],"sourceRoot":""}